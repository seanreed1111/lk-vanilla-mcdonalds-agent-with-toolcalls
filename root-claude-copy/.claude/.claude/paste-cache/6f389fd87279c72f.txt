make mock-console
Running agent in console mode with MOCK adapters...
(Using MockSTT, MockLLM, MockTTS - no external API calls)
PIPELINE__ADAPTER_TYPE=mock uv run python src/agent.py console
2026-01-20 17:10:11.970 | INFO     | factories:create_stt:25 - Creating mock STT adapter
2026-01-20 17:10:11.970 | INFO     | adapters.mock_adapters:__init__:41 - MockSTT initialized
2026-01-20 17:10:11.970 | INFO     | factories:create_llm:42 - Creating mock LLM adapter
2026-01-20 17:10:11.970 | INFO     | adapters.mock_adapters:__init__:85 - MockLLM initialized with 3 responses
2026-01-20 17:10:11.970 | INFO     | factories:create_tts:59 - Creating mock TTS adapter
2026-01-20 17:10:11.970 | INFO     | adapters.mock_adapters:__init__:188 - MockTTS initialized with voice: mock-voice, sample_rate: 24000Hz, audio_type: tone
2026-01-20 17:10:11.970 | INFO     | session_handler:__init__:45 - SessionHandler initialized
2026-01-20 17:10:11.970 | INFO     | __main__:__init__:102 - VoiceAgentApp initialized with adapter type: mock
2026-01-20 17:10:11.970 | INFO     | __main__:run:119 - Starting voice agent application
    Agents   Starting console mode ðŸš€
              
    17:10:12.013 DEBUG  asyncio            Using selector: KqueueSelector  
    17:10:12.014 INFO   livekit.agents     starting worker  
                                         {"version": "1.3.11", "rtc-version": 
"1.0.23"}
    17:10:12.015 INFO   livekit.agents     starting inference executor  
    17:10:12.021 INFO   livekit.agents     initializing process  
                                         {"pid": 53744, "inference": true}
    17:10:13.168 INFO   livekit.agents     process initialized  
                                         {"pid": 53744, "inference": true, 
"elapsed_time": 1.15}
    17:10:13.170 INFO   livekit.agents     HTTP server listening on :57131  
    17:10:13.180 INFO   livekit.agents     initializing job runner  
                                         {"tid": 2461216}
    17:10:13.209 DEBUG  asyncio            Using selector: KqueSelector  
    17:10:13.210 INFO   livekit.agents     job runner initialized  
                                         {"tid": 2461216, "elapsed_time": 0.03}
2026-01-20 17:10:13.223 | INFO     | session_handler:handle_session:81 - Starting session for room: console
2026-01-20 17:10:13.223 | DEBUG    | session_handler:handle_session:89 - Using STT: MockSTT, LLM: MockLLM, TTS: MockTTS
2026-01-20 17:10:13.243 | DEBUG    | adapters.mock_adapters:__getattr__:45 - MockSTT attribute accessed: capabilities
    17:10:13.243 ERROR  livekit.agents     Error in _stt_task {"room": "console"}
Traceback (most recent call last):
  File 
"/Users/seanreed/PythonProjects/voice-ai/lk-agent-1/.venv/lib/python3.13/site-packag
es/livekit/agents/utils/log.py", line 16, in async_fn_logs
    return await fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File 
"/Users/seanreed/PythonProjects/voice-ai/lk-agent-1/.venv/lib/python3.13/site-packag
es/livekit/agents/voice/audio_recognition.py", line 662, in _stt_task
    async for ev in node:
    ...<3 lines>...
        await self._on_stt_event(ev)
  File 
"/Users/seanreed/PythonProjects/voice-ai/lk-agent-1/.venv/lib/python3.13/site-packag
es/livekit/agents/voice/agent.py", line 364, in stt_node
    if not activity.stt.capabilities.streaming:
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'streaming'

    17:10:13.245 DEBUG  livekit.agents     using audio io: `Console` ->             
                                           `AgentSession` ->                        
                                           `TranscriptSynchronizer` -> `Console`    
                                         {"room": "console"}
    17:10:13.246 DEBUG  livekit.agents     using transcript io: `AgentSession` ->   
                                           `TranscriptSynchronizer`                 
                                         {"room": "console"}
2026-01-20 17:10:13.246 | INFO     | session_handler:handle_session:123 - Session started, connecting to room
2026-01-20 17:10:13.246 | INFO     | session_handler:handle_session:128 - Connected to room successfully
    17:10:37.557 INFO   livekit.agents     shutting down worker  
                                         {"id": "unregistered"}
    17:10:39.564 DEBUG  livekit.agents     session closed  
                                         {"reason": "user_initiated", "error": null,
"room": "console"}
    17:10:39.570 DEBUG  livekit.agents     shutting down job task  
                                         {"reason": "", "user_initiated": false, 
"room": "console"}
    17:10:39.573 DEBUG  livekit.agents     job exiting  
                                         {"reason": "", "tid": 2461216, "job_id": 
"fake-job-7cc9bec38dc6", "room_id": "FAKE_RM_38e44a735726"}
    17:10:39.574 DEBUG  livekit.agents     http_session(): closing the httpclient   
                                           ctx                                      
    17:10:39.576 DEBUG  livekit.agents     http_session(): creating a new           
                                           httpclient ctx                           
    17:10:39.579 INFO   livekit.agents     process exiting  
                                         {"reason": "", "pid": 53744, "inference": 
true}
