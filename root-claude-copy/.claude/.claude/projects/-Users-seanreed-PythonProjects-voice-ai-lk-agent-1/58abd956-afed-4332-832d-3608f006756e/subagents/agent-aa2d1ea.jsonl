{"parentUuid":null,"isSidechain":true,"userType":"external","cwd":"/Users/seanreed/PythonProjects/voice-ai/lk-agent-1","sessionId":"58abd956-afed-4332-832d-3608f006756e","version":"2.1.12","gitBranch":"main","agentId":"aa2d1ea","slug":"tranquil-puzzling-simon","type":"user","message":{"role":"user","content":"I need to find out what audio format LiveKit Agents expects for TTS (Text-to-Speech) output. Specifically:\n\n1. What audio format does LiveKit TTS return (PCM, WAV, MP3, etc.)?\n2. What sample rate and bit depth?\n3. How does LiveKit handle TTS audio internally in the agents framework?\n\nSearch the LiveKit documentation at docs.livekit.io for information about TTS audio formats, audio frames, and how TTS adapters should format their output."},"uuid":"9a53a2eb-903e-4fc8-bcc1-f93b2bd0e3c1","timestamp":"2026-01-20T20:00:19.574Z"}
{"parentUuid":"9a53a2eb-903e-4fc8-bcc1-f93b2bd0e3c1","isSidechain":true,"userType":"external","cwd":"/Users/seanreed/PythonProjects/voice-ai/lk-agent-1","sessionId":"58abd956-afed-4332-832d-3608f006756e","version":"2.1.12","gitBranch":"main","agentId":"aa2d1ea","slug":"tranquil-puzzling-simon","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01TwxkfHnw3VbbVCinREXKsr","type":"message","role":"assistant","content":[{"type":"text","text":"I'll search for information about LiveKit's TTS audio format requirements and how it handles TTS output internally."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":13737,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":13737,"ephemeral_1h_input_tokens":0},"output_tokens":7,"service_tier":"standard"}},"requestId":"req_011CXKDxRLagRZeNiqVUDBDT","type":"assistant","uuid":"e41f9059-3104-44ad-8077-e6aec8d3d011","timestamp":"2026-01-20T20:00:20.921Z"}
{"parentUuid":"e41f9059-3104-44ad-8077-e6aec8d3d011","isSidechain":true,"userType":"external","cwd":"/Users/seanreed/PythonProjects/voice-ai/lk-agent-1","sessionId":"58abd956-afed-4332-832d-3608f006756e","version":"2.1.12","gitBranch":"main","agentId":"aa2d1ea","slug":"tranquil-puzzling-simon","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01TwxkfHnw3VbbVCinREXKsr","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01YJej9vnHDGFQ6gWawV2Yo6","name":"WebSearch","input":{"query":"site:docs.livekit.io TTS audio format sample rate"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":13737,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":13737,"ephemeral_1h_input_tokens":0},"output_tokens":7,"service_tier":"standard"}},"requestId":"req_011CXKDxRLagRZeNiqVUDBDT","type":"assistant","uuid":"cca76504-7095-4bb5-8723-6785c4f6a139","timestamp":"2026-01-20T20:00:21.285Z"}
{"parentUuid":"cca76504-7095-4bb5-8723-6785c4f6a139","isSidechain":true,"userType":"external","cwd":"/Users/seanreed/PythonProjects/voice-ai/lk-agent-1","sessionId":"58abd956-afed-4332-832d-3608f006756e","version":"2.1.12","gitBranch":"main","agentId":"aa2d1ea","slug":"tranquil-puzzling-simon","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01TwxkfHnw3VbbVCinREXKsr","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01J8rnTTHSGcTuhPK6V2R39M","name":"WebSearch","input":{"query":"site:docs.livekit.io LiveKit Agents TTS output format PCM"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":13737,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":13737,"ephemeral_1h_input_tokens":0},"output_tokens":7,"service_tier":"standard"}},"requestId":"req_011CXKDxRLagRZeNiqVUDBDT","type":"assistant","uuid":"05c7ba56-889d-4026-8366-929ecf017999","timestamp":"2026-01-20T20:00:21.674Z"}
{"parentUuid":"05c7ba56-889d-4026-8366-929ecf017999","isSidechain":true,"userType":"external","cwd":"/Users/seanreed/PythonProjects/voice-ai/lk-agent-1","sessionId":"58abd956-afed-4332-832d-3608f006756e","version":"2.1.12","gitBranch":"main","agentId":"aa2d1ea","slug":"tranquil-puzzling-simon","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01TwxkfHnw3VbbVCinREXKsr","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_012UJb7TRjjWuoWBufvYwU3D","name":"WebSearch","input":{"query":"site:docs.livekit.io AudioFrame TTS agents"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":13737,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":13737,"ephemeral_1h_input_tokens":0},"output_tokens":7,"service_tier":"standard"}},"requestId":"req_011CXKDxRLagRZeNiqVUDBDT","type":"assistant","uuid":"ce62bcfc-2dd5-42cb-80d5-b0f09fc05373","timestamp":"2026-01-20T20:00:22.003Z"}
{"parentUuid":"ce62bcfc-2dd5-42cb-80d5-b0f09fc05373","isSidechain":true,"userType":"external","cwd":"/Users/seanreed/PythonProjects/voice-ai/lk-agent-1","sessionId":"58abd956-afed-4332-832d-3608f006756e","version":"2.1.12","gitBranch":"main","agentId":"aa2d1ea","slug":"tranquil-puzzling-simon","type":"progress","data":{"type":"query_update","query":"site:docs.livekit.io TTS audio format sample rate"},"toolUseID":"search-progress-1","parentToolUseID":"toolu_01YJej9vnHDGFQ6gWawV2Yo6","uuid":"8a237bce-859f-4bfc-a729-9865650a520c","timestamp":"2026-01-20T20:00:31.386Z"}
{"parentUuid":"8a237bce-859f-4bfc-a729-9865650a520c","isSidechain":true,"userType":"external","cwd":"/Users/seanreed/PythonProjects/voice-ai/lk-agent-1","sessionId":"58abd956-afed-4332-832d-3608f006756e","version":"2.1.12","gitBranch":"main","agentId":"aa2d1ea","slug":"tranquil-puzzling-simon","type":"progress","data":{"type":"query_update","query":"site:docs.livekit.io LiveKit Agents TTS output format PCM"},"toolUseID":"search-progress-1","parentToolUseID":"toolu_01J8rnTTHSGcTuhPK6V2R39M","uuid":"34357888-8083-4f5c-b726-2ddb4c58389a","timestamp":"2026-01-20T20:00:31.506Z"}
{"parentUuid":"34357888-8083-4f5c-b726-2ddb4c58389a","isSidechain":true,"userType":"external","cwd":"/Users/seanreed/PythonProjects/voice-ai/lk-agent-1","sessionId":"58abd956-afed-4332-832d-3608f006756e","version":"2.1.12","gitBranch":"main","agentId":"aa2d1ea","slug":"tranquil-puzzling-simon","type":"progress","data":{"type":"query_update","query":"site:docs.livekit.io AudioFrame TTS agents"},"toolUseID":"search-progress-1","parentToolUseID":"toolu_012UJb7TRjjWuoWBufvYwU3D","uuid":"063edb7c-9a11-4eda-8f5c-b78e6e0de443","timestamp":"2026-01-20T20:00:31.508Z"}
{"parentUuid":"063edb7c-9a11-4eda-8f5c-b78e6e0de443","isSidechain":true,"userType":"external","cwd":"/Users/seanreed/PythonProjects/voice-ai/lk-agent-1","sessionId":"58abd956-afed-4332-832d-3608f006756e","version":"2.1.12","gitBranch":"main","agentId":"aa2d1ea","slug":"tranquil-puzzling-simon","type":"progress","data":{"type":"search_results_received","resultCount":10,"query":"site:docs.livekit.io TTS audio format sample rate"},"toolUseID":"srvtoolu_01MU6b3UDwLiNWze5jwvSkA5","parentToolUseID":"toolu_01YJej9vnHDGFQ6gWawV2Yo6","uuid":"44ab6cb6-b1f1-4286-ad11-0a5e4fd8f807","timestamp":"2026-01-20T20:00:32.849Z"}
{"parentUuid":"44ab6cb6-b1f1-4286-ad11-0a5e4fd8f807","isSidechain":true,"userType":"external","cwd":"/Users/seanreed/PythonProjects/voice-ai/lk-agent-1","sessionId":"58abd956-afed-4332-832d-3608f006756e","version":"2.1.12","gitBranch":"main","agentId":"aa2d1ea","slug":"tranquil-puzzling-simon","type":"progress","data":{"type":"search_results_received","resultCount":10,"query":"site:docs.livekit.io AudioFrame TTS agents"},"toolUseID":"srvtoolu_01ReaGKrayp5LeEtrSkCtCJ7","parentToolUseID":"toolu_012UJb7TRjjWuoWBufvYwU3D","uuid":"9ec79631-c750-44a4-bda5-e6df54d50f2b","timestamp":"2026-01-20T20:00:33.129Z"}
{"parentUuid":"9ec79631-c750-44a4-bda5-e6df54d50f2b","isSidechain":true,"userType":"external","cwd":"/Users/seanreed/PythonProjects/voice-ai/lk-agent-1","sessionId":"58abd956-afed-4332-832d-3608f006756e","version":"2.1.12","gitBranch":"main","agentId":"aa2d1ea","slug":"tranquil-puzzling-simon","type":"progress","data":{"type":"search_results_received","resultCount":10,"query":"site:docs.livekit.io LiveKit Agents TTS output format PCM"},"toolUseID":"srvtoolu_01EU66VRCcgowuyXaHUTNMER","parentToolUseID":"toolu_01J8rnTTHSGcTuhPK6V2R39M","uuid":"7a118756-9c94-428b-ab11-8c7e3a36a552","timestamp":"2026-01-20T20:00:33.431Z"}
{"parentUuid":"cca76504-7095-4bb5-8723-6785c4f6a139","isSidechain":true,"userType":"external","cwd":"/Users/seanreed/PythonProjects/voice-ai/lk-agent-1","sessionId":"58abd956-afed-4332-832d-3608f006756e","version":"2.1.12","gitBranch":"main","agentId":"aa2d1ea","slug":"tranquil-puzzling-simon","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01YJej9vnHDGFQ6gWawV2Yo6","type":"tool_result","content":"Web search results for query: \"site:docs.livekit.io TTS audio format sample rate\"\n\nLinks: [{\"title\":\"Rime TTS plugin guide | LiveKit Documentation\",\"url\":\"https://docs.livekit.io/agents/models/tts/plugins/rime/\"},{\"title\":\"livekit.plugins.cartesia API documentation\",\"url\":\"https://docs.livekit.io/reference/python/livekit/plugins/cartesia/index.html\"},{\"title\":\"Smallest AI TTS plugin guide | LiveKit Documentation\",\"url\":\"https://docs.livekit.io/agents/models/tts/plugins/smallestai/\"},{\"title\":\"livekit.plugins.deepgram API documentation\",\"url\":\"https://docs.livekit.io/reference/python/livekit/plugins/deepgram/index.html\"},{\"title\":\"TTS | LiveKit Agents\",\"url\":\"https://docs.livekit.io/reference/agents-js/classes/agents.tts.TTS.html\"},{\"title\":\"livekit.agents.tts API documentation\",\"url\":\"https://docs.livekit.io/reference/python/livekit/agents/tts/index.html\"},{\"title\":\"livekit.plugins.minimax API documentation\",\"url\":\"https://docs.livekit.io/reference/python/v1/livekit/plugins/minimax/\"},{\"title\":\"sampleRate\",\"url\":\"https://docs.livekit.io/reference/components-android/livekit-compose-components/io.livekit.android.compose.ui.audio/-audio-format/sample-rate.html\"},{\"title\":\"livekit.plugins.elevenlabs API documentation\",\"url\":\"https://docs.livekit.io/reference/python/v1/livekit/plugins/elevenlabs/index.html\"},{\"title\":\"livekit.plugins.groq.tts API documentation\",\"url\":\"https://docs.livekit.io/reference/python/v1/livekit/plugins/groq/tts.html\"}]\n\nBased on the search results from LiveKit documentation, here's what I found regarding TTS audio format and sample rates:\n\n## Sample Rates\n\nDifferent TTS plugins in LiveKit support various sample rates:\n\n- **Cartesia TTS**: Default sample rate is 24000 Hz\n- **Deepgram TTS**: Default sample rate is 24000 Hz\n- **Minimax TTS**: Default sample rate is 24000 Hz\n- **ElevenLabs STT**: Default sample rate is 16000 Hz for speech-to-text\n\n## Audio Formats\n\nThe TTS plugins support different audio encoding formats:\n\n- **Cartesia**: Default encoding is \"pcm_s16le\"\n- **Deepgram**: Default encoding is \"linear16\"\n- **Minimax**: Default audio format is \"mp3\"\n- **Smallest AI**: Supports various output formats including PCM for streaming/processing or compressed formats for storage/playback\n\n## General Configuration\n\nThe FallbackAdapter allows you to specify a desired sample rate for synthesized audio, and if None, it uses the maximum sample rate among the TTS instances.\n\nThe sample rate parameter is configurable across all TTS plugins and can be adjusted based on your audio pipeline requirements to avoid resampling artifacts.\n\n\nREMINDER: You MUST include the sources above in your response to the user using markdown hyperlinks."}]},"uuid":"1d4d56be-49c6-4464-8392-9f1f60d3e70f","timestamp":"2026-01-20T20:00:38.198Z","toolUseResult":{"query":"site:docs.livekit.io TTS audio format sample rate","results":[{"tool_use_id":"srvtoolu_01MU6b3UDwLiNWze5jwvSkA5","content":[{"title":"Rime TTS plugin guide | LiveKit Documentation","url":"https://docs.livekit.io/agents/models/tts/plugins/rime/"},{"title":"livekit.plugins.cartesia API documentation","url":"https://docs.livekit.io/reference/python/livekit/plugins/cartesia/index.html"},{"title":"Smallest AI TTS plugin guide | LiveKit Documentation","url":"https://docs.livekit.io/agents/models/tts/plugins/smallestai/"},{"title":"livekit.plugins.deepgram API documentation","url":"https://docs.livekit.io/reference/python/livekit/plugins/deepgram/index.html"},{"title":"TTS | LiveKit Agents","url":"https://docs.livekit.io/reference/agents-js/classes/agents.tts.TTS.html"},{"title":"livekit.agents.tts API documentation","url":"https://docs.livekit.io/reference/python/livekit/agents/tts/index.html"},{"title":"livekit.plugins.minimax API documentation","url":"https://docs.livekit.io/reference/python/v1/livekit/plugins/minimax/"},{"title":"sampleRate","url":"https://docs.livekit.io/reference/components-android/livekit-compose-components/io.livekit.android.compose.ui.audio/-audio-format/sample-rate.html"},{"title":"livekit.plugins.elevenlabs API documentation","url":"https://docs.livekit.io/reference/python/v1/livekit/plugins/elevenlabs/index.html"},{"title":"livekit.plugins.groq.tts API documentation","url":"https://docs.livekit.io/reference/python/v1/livekit/plugins/groq/tts.html"}]},"Based on the search results from LiveKit documentation, here's what I found regarding TTS audio format and sample rates:\n\n## Sample Rates\n\nDifferent TTS plugins in LiveKit support various sample rates:\n\n- **Cartesia TTS**: Default sample rate is 24000 Hz\n- **Deepgram TTS**: Default sample rate is 24000 Hz\n- **Minimax TTS**: Default sample rate is 24000 Hz\n- **ElevenLabs STT**: Default sample rate is 16000 Hz for speech-to-text\n\n## Audio Formats\n\nThe TTS plugins support different audio encoding formats:\n\n- **Cartesia**: Default encoding is \"pcm_s16le\"\n- **Deepgram**: Default encoding is \"linear16\"\n- **Minimax**: Default audio format is \"mp3\"\n- **Smallest AI**: Supports various output formats including PCM for streaming/processing or compressed formats for storage/playback\n\n## General Configuration\n\nThe FallbackAdapter allows you to specify a desired sample rate for synthesized audio, and if None, it uses the maximum sample rate among the TTS instances.\n\nThe sample rate parameter is configurable across all TTS plugins and can be adjusted based on your audio pipeline requirements to avoid resampling artifacts."],"durationSeconds":7.952189250000011},"sourceToolAssistantUUID":"cca76504-7095-4bb5-8723-6785c4f6a139"}
{"parentUuid":"05c7ba56-889d-4026-8366-929ecf017999","isSidechain":true,"userType":"external","cwd":"/Users/seanreed/PythonProjects/voice-ai/lk-agent-1","sessionId":"58abd956-afed-4332-832d-3608f006756e","version":"2.1.12","gitBranch":"main","agentId":"aa2d1ea","slug":"tranquil-puzzling-simon","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01J8rnTTHSGcTuhPK6V2R39M","type":"tool_result","content":"Web search results for query: \"site:docs.livekit.io LiveKit Agents TTS output format PCM\"\n\nLinks: [{\"title\":\"Text-to-speech (TTS) models overview | LiveKit Documentation\",\"url\":\"https://docs.livekit.io/agents/models/tts/\"},{\"title\":\"Smallest AI TTS plugin guide | LiveKit Documentation\",\"url\":\"https://docs.livekit.io/agents/models/tts/plugins/smallestai/\"},{\"title\":\"Speech-to-text (STT) models overview | LiveKit Documentation\",\"url\":\"https://docs.livekit.io/agents/models/stt/\"},{\"title\":\"Rime TTS plugin guide | LiveKit Documentation\",\"url\":\"https://docs.livekit.io/agents/models/tts/plugins/rime/\"},{\"title\":\"TTSEncoding | LiveKit Agents\",\"url\":\"https://docs.livekit.io/reference/agents-js/types/plugins_agents_plugin_elevenlabs.TTSEncoding.html\"},{\"title\":\"TTS | LiveKit Agents\",\"url\":\"https://docs.livekit.io/reference/agents-js/classes/agents.inference.TTS-1.html\"},{\"title\":\"livekit.agents.tts API documentation\",\"url\":\"https://docs.livekit.io/reference/python/v1/livekit/agents/tts/index.html\"},{\"title\":\"ElevenLabs TTS plugin guide | LiveKit Documentation\",\"url\":\"https://docs.livekit.io/agents/models/tts/plugins/elevenlabs/\"},{\"title\":\"Agent speech and audio | LiveKit Documentation\",\"url\":\"https://docs.livekit.io/agents/build/audio/\"},{\"title\":\"Agent speech | LiveKit Docs\",\"url\":\"https://docs.livekit.io/agents/build/speech/\"}]\n\nBased on the search results from docs.livekit.io, I found information about PCM as a TTS output format in LiveKit Agents:\n\n## PCM Format Support in LiveKit Agents TTS\n\nThe audio format options include pcm and mp3, as documented in the Rime TTS plugin guide.\n\nFor ElevenLabs TTS, the TTSEncoding types include several PCM options: \"pcm_16000\", \"pcm_22050\", and \"pcm_44100\", which specify different sample rates.\n\nIn the JavaScript/TypeScript implementation, the encoding is specified as \"pcm_s16le\" for the LiveKit Inference TTS class.\n\nFor the Python implementation, the AudioEmitter checks if the MIME type starts with \"audio/\" to determine if it's raw PCM, and the StreamAdapter uses a MIME type of \"audio/pcm\" when initializing the output emitter.\n\nThe PCM format is used for raw, uncompressed audio streaming and processing, while MP3 is typically used for compressed storage and playback scenarios.\n\n\nREMINDER: You MUST include the sources above in your response to the user using markdown hyperlinks."}]},"uuid":"ee66ce72-e4e0-4ec2-875c-22de1db88252","timestamp":"2026-01-20T20:00:38.291Z","toolUseResult":{"query":"site:docs.livekit.io LiveKit Agents TTS output format PCM","results":[{"tool_use_id":"srvtoolu_01EU66VRCcgowuyXaHUTNMER","content":[{"title":"Text-to-speech (TTS) models overview | LiveKit Documentation","url":"https://docs.livekit.io/agents/models/tts/"},{"title":"Smallest AI TTS plugin guide | LiveKit Documentation","url":"https://docs.livekit.io/agents/models/tts/plugins/smallestai/"},{"title":"Speech-to-text (STT) models overview | LiveKit Documentation","url":"https://docs.livekit.io/agents/models/stt/"},{"title":"Rime TTS plugin guide | LiveKit Documentation","url":"https://docs.livekit.io/agents/models/tts/plugins/rime/"},{"title":"TTSEncoding | LiveKit Agents","url":"https://docs.livekit.io/reference/agents-js/types/plugins_agents_plugin_elevenlabs.TTSEncoding.html"},{"title":"TTS | LiveKit Agents","url":"https://docs.livekit.io/reference/agents-js/classes/agents.inference.TTS-1.html"},{"title":"livekit.agents.tts API documentation","url":"https://docs.livekit.io/reference/python/v1/livekit/agents/tts/index.html"},{"title":"ElevenLabs TTS plugin guide | LiveKit Documentation","url":"https://docs.livekit.io/agents/models/tts/plugins/elevenlabs/"},{"title":"Agent speech and audio | LiveKit Documentation","url":"https://docs.livekit.io/agents/build/audio/"},{"title":"Agent speech | LiveKit Docs","url":"https://docs.livekit.io/agents/build/speech/"}]},"Based on the search results from docs.livekit.io, I found information about PCM as a TTS output format in LiveKit Agents:\n\n## PCM Format Support in LiveKit Agents TTS\n\nThe audio format options include pcm and mp3, as documented in the Rime TTS plugin guide.\n\nFor ElevenLabs TTS, the TTSEncoding types include several PCM options: \"pcm_16000\", \"pcm_22050\", and \"pcm_44100\", which specify different sample rates.\n\nIn the JavaScript/TypeScript implementation, the encoding is specified as \"pcm_s16le\" for the LiveKit Inference TTS class.\n\nFor the Python implementation, the AudioEmitter checks if the MIME type starts with \"audio/\" to determine if it's raw PCM, and the StreamAdapter uses a MIME type of \"audio/pcm\" when initializing the output emitter.\n\nThe PCM format is used for raw, uncompressed audio streaming and processing, while MP3 is typically used for compressed storage and playback scenarios."],"durationSeconds":8.024094666999998},"sourceToolAssistantUUID":"05c7ba56-889d-4026-8366-929ecf017999"}
{"parentUuid":"ce62bcfc-2dd5-42cb-80d5-b0f09fc05373","isSidechain":true,"userType":"external","cwd":"/Users/seanreed/PythonProjects/voice-ai/lk-agent-1","sessionId":"58abd956-afed-4332-832d-3608f006756e","version":"2.1.12","gitBranch":"main","agentId":"aa2d1ea","slug":"tranquil-puzzling-simon","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_012UJb7TRjjWuoWBufvYwU3D","type":"tool_result","content":"Web search results for query: \"site:docs.livekit.io AudioFrame TTS agents\"\n\nLinks: [{\"title\":\"Agent speech and audio | LiveKit Documentation\",\"url\":\"https://docs.livekit.io/agents/multimodality/audio/\"},{\"title\":\"Agent speech | LiveKit Docs\",\"url\":\"https://docs.livekit.io/agents/build/speech/\"},{\"title\":\"livekit.agents.tts.tts API documentation\",\"url\":\"https://docs.livekit.io/python/livekit/agents/tts/tts.html\"},{\"title\":\"livekit.agents.tts API documentation\",\"url\":\"https://docs.livekit.io/reference/python/livekit/agents/tts/index.html\"},{\"title\":\"Pipeline nodes and hooks | LiveKit docs\",\"url\":\"https://docs.livekit.io/agents/build/nodes/\"},{\"title\":\"livekit.agents.voice API documentation\",\"url\":\"https://docs.livekit.io/reference/python/v1/livekit/agents/voice/index.html\"},{\"title\":\"livekit.agents API documentation\",\"url\":\"https://docs.livekit.io/reference/python/v1/livekit/agents/\"},{\"title\":\"SynthesizedAudio | LiveKit Agents\",\"url\":\"https://docs.livekit.io/reference/agents-js/interfaces/agents.tts.SynthesizedAudio.html\"},{\"title\":\"livekit.agents.transcription.tts_forwarder API documentation\",\"url\":\"https://docs.livekit.io/reference/python/livekit/agents/transcription/tts_forwarder.html\"},{\"title\":\"Agent speech and audio | LiveKit docs\",\"url\":\"https://docs.livekit.io/agents/v1/build/speech\"}]\n\nI've found documentation from LiveKit about AudioFrame in the context of TTS agents. Here are the key findings:\n\n## AudioFrame in TTS Agents\n\nThe `session.say()` method accepts an optional `audio` parameter of type `AsyncIterable[rtc.AudioFrame]` for pre-synthesized audio playback.\n\n### Key Uses:\n\n1. **Pre-synthesized Audio**: You can optionally provide pre-synthesized audio for playback, which skips the TTS step and reduces response time.\n\n2. **TTS Node Output**: The `tts_node` is a processing pipeline node that synthesizes audio from text segments and yields `rtc.AudioFrame` objects.\n\n3. **Audio Processing**: The `realtime_audio_output_node` processes audio from the realtime LLM session (as `AsyncIterable[rtc.AudioFrame]`) before it is played out.\n\n4. **Internal TTS Implementation**: The `SynthesizedAudioEmitter` class (used by TTS implementers) has a `push()` method that accepts `Optional[rtc.AudioFrame]` to emit buffered frames with metadata.\n\n### Audio Playback Modes:\nThe `say()` method supports text (required), audio as `AsyncIterable[rtc.AudioFrame]` (optional), `allow_interruptions` (boolean), and `add_to_chat_ctx` (boolean) parameters.\n\n\nREMINDER: You MUST include the sources above in your response to the user using markdown hyperlinks."}]},"uuid":"bcd53de1-5393-46d8-b2bd-2a0a5aa21f66","timestamp":"2026-01-20T20:00:38.737Z","toolUseResult":{"query":"site:docs.livekit.io AudioFrame TTS agents","results":[{"tool_use_id":"srvtoolu_01ReaGKrayp5LeEtrSkCtCJ7","content":[{"title":"Agent speech and audio | LiveKit Documentation","url":"https://docs.livekit.io/agents/multimodality/audio/"},{"title":"Agent speech | LiveKit Docs","url":"https://docs.livekit.io/agents/build/speech/"},{"title":"livekit.agents.tts.tts API documentation","url":"https://docs.livekit.io/python/livekit/agents/tts/tts.html"},{"title":"livekit.agents.tts API documentation","url":"https://docs.livekit.io/reference/python/livekit/agents/tts/index.html"},{"title":"Pipeline nodes and hooks | LiveKit docs","url":"https://docs.livekit.io/agents/build/nodes/"},{"title":"livekit.agents.voice API documentation","url":"https://docs.livekit.io/reference/python/v1/livekit/agents/voice/index.html"},{"title":"livekit.agents API documentation","url":"https://docs.livekit.io/reference/python/v1/livekit/agents/"},{"title":"SynthesizedAudio | LiveKit Agents","url":"https://docs.livekit.io/reference/agents-js/interfaces/agents.tts.SynthesizedAudio.html"},{"title":"livekit.agents.transcription.tts_forwarder API documentation","url":"https://docs.livekit.io/reference/python/livekit/agents/transcription/tts_forwarder.html"},{"title":"Agent speech and audio | LiveKit docs","url":"https://docs.livekit.io/agents/v1/build/speech"}]},"I've found documentation from LiveKit about AudioFrame in the context of TTS agents. Here are the key findings:\n\n## AudioFrame in TTS Agents\n\nThe `session.say()` method accepts an optional `audio` parameter of type `AsyncIterable[rtc.AudioFrame]` for pre-synthesized audio playback.\n\n### Key Uses:\n\n1. **Pre-synthesized Audio**: You can optionally provide pre-synthesized audio for playback, which skips the TTS step and reduces response time.\n\n2. **TTS Node Output**: The `tts_node` is a processing pipeline node that synthesizes audio from text segments and yields `rtc.AudioFrame` objects.\n\n3. **Audio Processing**: The `realtime_audio_output_node` processes audio from the realtime LLM session (as `AsyncIterable[rtc.AudioFrame]`) before it is played out.\n\n4. **Internal TTS Implementation**: The `SynthesizedAudioEmitter` class (used by TTS implementers) has a `push()` method that accepts `Optional[rtc.AudioFrame]` to emit buffered frames with metadata.\n\n### Audio Playback Modes:\nThe `say()` method supports text (required), audio as `AsyncIterable[rtc.AudioFrame]` (optional), `allow_interruptions` (boolean), and `add_to_chat_ctx` (boolean) parameters."],"durationSeconds":8.46958387500001},"sourceToolAssistantUUID":"ce62bcfc-2dd5-42cb-80d5-b0f09fc05373"}
{"parentUuid":"bcd53de1-5393-46d8-b2bd-2a0a5aa21f66","isSidechain":true,"userType":"external","cwd":"/Users/seanreed/PythonProjects/voice-ai/lk-agent-1","sessionId":"58abd956-afed-4332-832d-3608f006756e","version":"2.1.12","gitBranch":"main","agentId":"aa2d1ea","slug":"tranquil-puzzling-simon","type":"assistant","uuid":"9df856c9-b6c8-4596-a7d3-cc68144e6482","timestamp":"2026-01-20T20:00:38.959Z","message":{"id":"79c9d60a-1b94-4053-9c17-18e1ea2fb786","container":null,"model":"<synthetic>","role":"assistant","stop_reason":"stop_sequence","stop_sequence":"","type":"message","usage":{"input_tokens":0,"output_tokens":0,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":null,"cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":0}},"content":[{"type":"text","text":"You've hit your limit Â· resets 5pm (America/New_York)"}],"context_management":null},"error":"rate_limit","isApiErrorMessage":true}
